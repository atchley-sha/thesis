<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>An Illustrated Comparison of Activity-Based and Trip-Based Models in Utah - 2&nbsp; Literature Review</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./methods.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">An Illustrated Comparison of Activity-Based and Trip-Based Models in Utah</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">List of Acronyms</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lit-review.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_land_use.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Land Use</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_transit.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Scenario 2: Transit</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_wfh.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Scenario 3: Work From Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussion.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Discussion</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#overview-of-model-types" id="toc-overview-of-model-types" class="nav-link active" data-scroll-target="#overview-of-model-types"><span class="toc-section-number">2.1</span>  Overview of Model Types</a></li>
  <li><a href="#comparison-of-modeling-frameworks" id="toc-comparison-of-modeling-frameworks" class="nav-link" data-scroll-target="#comparison-of-modeling-frameworks"><span class="toc-section-number">2.2</span>  Comparison of Modeling Frameworks</a>
  <ul class="collapse">
  <li><a href="#population-data" id="toc-population-data" class="nav-link" data-scroll-target="#population-data"><span class="toc-section-number">2.2.1</span>  Population Data</a></li>
  <li><a href="#travel-behavior" id="toc-travel-behavior" class="nav-link" data-scroll-target="#travel-behavior"><span class="toc-section-number">2.2.2</span>  Travel Behavior</a></li>
  </ul></li>
  <li><a href="#lack-of-abm-adoption" id="toc-lack-of-abm-adoption" class="nav-link" data-scroll-target="#lack-of-abm-adoption"><span class="toc-section-number">2.3</span>  Lack of ABM Adoption</a></li>
  <li><a href="#research-gap" id="toc-research-gap" class="nav-link" data-scroll-target="#research-gap"><span class="toc-section-number">2.4</span>  Research Gap</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-literature" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  

</header>

<p>Travel demand modeling in the modern sense has its origins in the 1950’s, with the Chicago Area Transportation Study <span class="citation" data-cites="chicago_area_transportation_study_final_1959">(<a href="references.html#ref-chicago_area_transportation_study_final_1959" role="doc-biblioref">Chicago Area Transportation Study 1959</a>)</span> being one of the first urban planning studies to use the now-ubiquitous “four-step” modeling framework <span class="citation" data-cites="mcnally_four-step_2007">(<a href="references.html#ref-mcnally_four-step_2007" role="doc-biblioref">McNally 2007</a>)</span>. Up to this point, most urban transportation planning used existing demand or uniform-growth travel forecasts to model travel demand, but the Chicago Study used a combination of trip generation, trip distribution, modal split, and network assignment models to more accurately represent travel behavior <span class="citation" data-cites="weiner_urban_1997">(<a href="references.html#ref-weiner_urban_1997" role="doc-biblioref">Weiner 1997</a>)</span>. Since then, there have been numerous studies iterating on the “four-step” (more appropriately termed “trip-based”) framework, and trip-based models are now the primary tool used in forecasting travel demand across the United States <span class="citation" data-cites="park_intrazonal_2020">(<a href="references.html#ref-park_intrazonal_2020" role="doc-biblioref">Park et al. 2020</a>)</span>.</p>
<p>These trip-based models are not without problems, however. <span class="citation" data-cites="rasouli_activity-based_2014">Rasouli and Timmermans (<a href="references.html#ref-rasouli_activity-based_2014" role="doc-biblioref">2014</a>)</span> give several shortcomings of trip-based models. First, they use several sub-models that are (implicitly or explicitly) assumed independent, and this can result in a lack of consistency or integrity between sub-models; for example, the assumed value of time in the mode choice model might be radically different than the assumed value of time in the tolling assignment model. Second, they are strongly aggregated in nature, which can cause significant aggregation bias with high and low values excluded. Finally, they lack “behavioral realism”—that is, they do not have a concept of individuals making decisions, which is what travel behavior actually is.</p>
<p><span class="citation" data-cites="jones_new_1979">Jones (<a href="references.html#ref-jones_new_1979" role="doc-biblioref">1979</a>)</span> proposed an alternative to the trip-based paradigm, namely an “activity-based” framework that models daily activity patterns at an individual rather than aggregate level. An activity-based model (ABM) places the focus on “activities” rather than “trips” as the basic unit of analysis, and predicts a sequence of activities for each individual and household, with information such as activity location, start time, and duration, using a high level of temporal and spatial granularity. “Trips” are then journeys from one activity to the next <span class="citation" data-cites="pinjari_activity-based_2011">(<a href="references.html#ref-pinjari_activity-based_2011" role="doc-biblioref">Pinjari and Bhat 2011</a>)</span>. By adopting this activity-centric framework, ABMs provide a more consistent and comprehensive representation of travel behavior. They take into account complex dependencies and interactions within the model as a whole and at an individual level. ABMs acknowledge that travel choices are not made in isolation, but rather influenced by the preceding activities. This means that e.g.&nbsp;if an individual takes transit to work, they will not be able to drive home. ABMs therefore present a more conceptually accurate model of actual travel behavior than traditional trip-based models.</p>
<p>Despite these advantages, many agencies have yet to adopt ABMs, and instead continue to use trip-based models <span class="citation" data-cites="miller_current_2023">(<a href="references.html#ref-miller_current_2023" role="doc-biblioref">Miller 2023</a>)</span>. While ABMs are superior in certain aspects, they also have disadvantages, such as requiring more detailed input data and greater computational resources. It is also not always clear if ABMs provide substantially better forecasts than their trip-based counterparts, nor if this tradeoff is worth it for every agency. This literature review presents an overview of both modeling frameworks, and discusses the advantages and disadvantages of using an ABM.</p>
<section id="overview-of-model-types" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="overview-of-model-types"><span class="header-section-number">2.1</span> Overview of Model Types</h2>
<p>Trip-based models are often referred to as “four-step” models due to their four fundamental sub-models: trip generation, trip distribution, mode choice, and network assignment <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012, 28</a>)</span>. They can be more complicated than this, possibly including integration with a land use forecast, iteration between mode and destination choice, etc., but the “four steps” are the central component of any of these models <span class="citation" data-cites="mcnally_four-step_2007">(<a href="references.html#ref-mcnally_four-step_2007" role="doc-biblioref">McNally 2007</a>)</span>.</p>
<p>In a typical trip-based model, travel demand is predicted based on aggregate population data, often delineated by each transportation analysis zone (TAZ). Each sub-model relies on this aggregate data; for example, the modal split sub-model will often use average TAZ income as an input <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012, 14</a>)</span>. The aggregate data is also often “disaggregated” and segmented along variables such as household size and vehicle ownership. Regardless of the segmentation variables used in the first three model steps, the resulting trip matrices by mode and time of day are then assigned to a transportation network (there are various algorithms for doing so, see <span class="citation" data-cites="ortuzar_modelling_2011">Ortúzar and Willumsen (<a href="references.html#ref-ortuzar_modelling_2011" role="doc-biblioref">2011</a>)</span>).</p>
<p>Activity-based models differ significantly from this approach. Rather than using aggregate data, ABMs use data representing an actual or synthetic population, with individual person and household data <span class="citation" data-cites="vovsha_activity-based_2005">(<a href="references.html#ref-vovsha_activity-based_2005" role="doc-biblioref">Vovsha, Bradley, and Bowman 2005</a>)</span>. These models use an activity or tour scheduler to assign a daily activity pattern (DAP) of zero or more tours to each individual (<em>n.b.</em> a tour is a series of trips that begin and end at home). These DAPs are restricted temporally, spatially, and modally; i.e., each person has a logical and followable sequence of trips and activities <span class="citation" data-cites="bowman_day_1998">(<a href="references.html#ref-bowman_day_1998" role="doc-biblioref">Bowman 1998</a>)</span>. A “drive alone” trip from work to lunch, for example, cannot be made if transit was taken to work. ABMs output a list of tours and trips by person, time, location, and type, and these can then be assigned to a transportation network in a similar manner as in a trip-based model.</p>
</section>
<section id="comparison-of-modeling-frameworks" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="comparison-of-modeling-frameworks"><span class="header-section-number">2.2</span> Comparison of Modeling Frameworks</h2>
<p>In discussing the differences between ABMs and trip-based models, there are really two comparisons that need to be made: how the population data is structured, and how travel is organized. Trip-based models generally use aggregate population data while ABMs use a synthetic population, and trip-based models organize travel into trips while ABMs organize travel into activities and tours. The following sections will explain these aspects of travel demand modeling and discuss the claimed advantages and disadvantages of each model type.</p>
<section id="population-data" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="population-data"><span class="header-section-number">2.2.1</span> Population Data</h3>
<p>The aggregate population data used in trip-based models can vary in origin and level of detail, but the basic concept is the same: the study area is organized into generally small zones, and certain demographic and socioeconomic data is known or obtained for each zone <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012, 14</a>)</span>. This includes data such as number of households, average household income, population, number of workers, etc. Based on this information, the zone can be segmented along arbitrary variables. For example, since households with more workers and more vehicles tend to make more work trips, it is useful to estimate the distribution of households in each zone along these two variables. Then, average trip production rates are determined for each household category (e.g.&nbsp;for households with each number of workers by vehicles), and the total number of trips produced in a zone is calculated based on these rates <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012, 37</a>)</span>.</p>
<p>This approach is relatively straightforward: the required input data is usually easy to obtain, the trip generation models are often simple, and it is computationally inexpensive <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012</a>)</span>. However, the types of analyses possible are limited by the initial segmentation of the aggregate population data. An analysis based on parents’/adults’ highest received education, for example, would require determining the number of households in each TAZ with each possible combination of education level. This can theoretically be done, but more detailed and varied analyses would require more levels of segmentation, greatly increasing the number of classifications needed. Aggregation at any point precludes that segmentation from use in subsequent model steps as well as in any post-hoc analysis. Since these segmentations need to be carried through each model step, trip rates, mode choice equations, etc. need to be estimated for every classification, and while relevant real-world data may exist, sample sizes approach zero very quickly, and so the estimates have little statistical value <span class="citation" data-cites="moeckel_agent-based_2020 national_academies_travel_2012">(<a href="references.html#ref-moeckel_agent-based_2020" role="doc-biblioref">Moeckel et al. 2020</a>; <a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012</a>)</span>.</p>
<p>This becomes a particular issue in equity analysis because it is perhaps impossible to determine equitable distribution of “winners” and “losers” of a potential policy without using demographic variables in the trip generation and destination and mode choice steps <span class="citation" data-cites="bills_looking_2017">(<a href="references.html#ref-bills_looking_2017" role="doc-biblioref">Bills and Walker 2017</a>)</span>. Though many studies have shown that trip production and mode choice behavior differ by ethnic group even after controlling for income <span class="citation" data-cites="cite">(<a href="references.html#ref-cite" role="doc-biblioref"><strong>cite?</strong></a>)</span>, including such variables in trip-based models is problematic. Does coding such a variable in a mode choice model represent discrimination? Or does doing so assert that present differences resulting from unequal opportunity will persist into the future planning years? Regardless the reasons for their exclusion, these variables consequently cannot be used in a post-hoc analysis of a transportation policy because the trip matrices do not contain the adequate segmentation.</p>
<p>An alternative approach to population data is to use a full synthetic population. A synthetic population takes demographic and socioeconomic data at various levels of detail to create a “population” with generally the same distribution as the study area <span class="citation" data-cites="national_academies_travel_2012">(<a href="references.html#ref-national_academies_travel_2012" role="doc-biblioref">National Academies 2012, 93</a>)</span>. The goal is to have a population that is functionally similar to the actual population, but without the privacy concerns of using real individual household data. <span class="citation" data-cites="castiglione_application_2006">Castiglione et al. (<a href="references.html#ref-castiglione_application_2006" role="doc-biblioref">2006</a>)</span> argue that the major advantage with this approach is that the demographic and socioeconomic data is known at the person and household level, rather than the zone level, and this data remains available throughout the modeling process. This allows, for example, an equity analysis to determine the “winners” and “losers” of a proposed development without needing to encode demographic variables into each step of the model.</p>
<p><span class="citation" data-cites="bills_looking_2017">Bills and Walker (<a href="references.html#ref-bills_looking_2017" role="doc-biblioref">2017</a>)</span> used the 2000 Bay Area Travel Survey to create a synthetic population and compare the effects that certain scenarios had on high income and low income populations. With a 20% reduction in travel cost, they found that high income workers benefited more than low income workers. They did similar comparisons for scenarios involving reduced travel times for different mode choices and saw the effects each scenario had on the high and low income workers. These types of analysis, which are not possible with aggregate population data (<strong>this is actually possible; a lot of trip-based models segment high/low income</strong>), can be very valuable in transportation planning and policy making.</p>
<p>It is important to note that while many connect them only with ABMs, synthetic populations can be used in running trip-based models as well. Trip-based models using a synthetic population—often called trip-based microsimulation models—do exist (see <span class="citation" data-cites="walker_making_2005">Walker (<a href="references.html#ref-walker_making_2005" role="doc-biblioref">2005</a>)</span> and <span class="citation" data-cites="moeckel_agent-based_2020">Moeckel et al. (<a href="references.html#ref-moeckel_agent-based_2020" role="doc-biblioref">2020</a>)</span>), but these are relatively rare.</p>
<p><a href="#fig-pipeline-example">Figure&nbsp;<span>2.1</span></a> gives a visualization of an example “information pipeline” for a trip-based model using aggregate data and an ABM using a synthetic population. In the aggregate data model, it is impossible to know which trips are made by e.g.&nbsp;2-worker, 1-vehicle, low-income households; it only describes which trips are made by households with fewer vehicles than workers. With a synthetic population, however, <em>individuals</em> are being modeled, and so each trip can be traced to a specific person. All information is known at each point in the model regardless of which data is used in previous steps.</p>
<div id="fig-pipeline-example" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 100.0%;justify-content: center;">
<div id="fig-pipeline-example-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="output/example_flowchart_comparison/aggregate.png" class="img-fluid figure-img" data-ref-parent="fig-pipeline-example" width="482"></p>
<p></p><figcaption class="figure-caption">(a) Trip-based</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 100.0%;justify-content: center;">
<div id="fig-pipeline-example-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="output/example_flowchart_comparison/synthetic.png" class="img-fluid figure-img" data-ref-parent="fig-pipeline-example" width="393"></p>
<p></p><figcaption class="figure-caption">(b) Activity-based</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.1: Example “information pipeline” for a trip-based model and an ABM.</figcaption><p></p>
</figure>
</div>
</section>
<section id="travel-behavior" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="travel-behavior"><span class="header-section-number">2.2.2</span> Travel Behavior</h3>
<p>The other primary difference between trip-based models and ABMs—and the main difference from trip-based microsimulation models—is that ABMs organize travel into “tours”, a sequence of trips that begin and end at the home, rather than just trips. It should be noted that <span class="citation" data-cites="miller_current_2023">Miller (<a href="references.html#ref-miller_current_2023" role="doc-biblioref">2023</a>)</span> argues that many current “activity-based” models ought to be labeled “tour-based” due to this focus on building tours. This is contrasted with “activity scheduling” models, in which activity participation is modeled explicitly and trips emerge as the means to get from one activity to the next. However, in practice there are few true “activity scheduling” models, and the term “activity-based” is used to refer to both activity scheduling and tour-based models.</p>
<p>In a typical trip-based model, trips are forecasted based on empirical trip rates, usually by trip purpose and by household type (for example, low-income, 1-vehicle households make a certain number of “home-based work” trips) <span class="citation" data-cites="mcnally_four-step_2007">(<a href="references.html#ref-mcnally_four-step_2007" role="doc-biblioref">McNally 2007</a>)</span>. These trips are then assigned an origin and destination, mode, and often a time of day (peak/off-peak, etc.), resulting in a list of trips between each zone by mode and purpose. A trip-based microsimulation model may use regression models rather than aggregate data for some of the model steps <span class="citation" data-cites="moeckel_agent-based_2020">(<a href="references.html#ref-moeckel_agent-based_2020" role="doc-biblioref">Moeckel et al. 2020</a>)</span>, but the end result is similar: a list of trips by person, noting mode and purpose. However, this trip list may be inconsistent, and the forecasted trips may not be physically possible to complete in any sequence, as there is no sense of “trip-chaining”. The hope, though, is that over an area the inconsistencies would cancel out, leaving an overall accurate forecast.</p>
<p>ABMs, on the other hand, model <em>tours</em> rather than trips. This attempts to create consistency in trip origins/destinations, mode choice, and time of day: since each trip is a part of a “chain” (tour), the trips within a tour are dependent on each other <span class="citation" data-cites="rasouli_activity-based_2014">(<a href="references.html#ref-rasouli_activity-based_2014" role="doc-biblioref">Rasouli and Timmermans 2014</a>)</span>. The open-source ABM ActivitySim <span class="citation" data-cites="association_of_metropolitan_planning_organizations_activitysim_2023">(<a href="references.html#ref-association_of_metropolitan_planning_organizations_activitysim_2023" role="doc-biblioref">Association of Metropolitan Planning Organizations 2023</a>)</span>, for example, has a tour-scheduling model that determines the number of “mandatory” (work, school, etc.) and “discretionary” tours each individual will make, and performs tour-level mode and destination choice for each tour. After the tour-level decisions are made, trip-level mode/destination choice is done for each trip in the tour, including the possible addition of subtours (see <span class="citation" data-cites="vovsha_activity-based_2005">Vovsha, Bradley, and Bowman (<a href="references.html#ref-vovsha_activity-based_2005" role="doc-biblioref">2005</a>)</span>, fig.&nbsp;18.1).</p>
<p>Figures <a href="#fig-network-aggregate"><span>2.2</span></a> and <a href="#fig-network-synth"><span>2.3</span></a> show an example of the trips assigned to a network in the various model forms. <a href="#fig-network-aggregate">Figure&nbsp;<span>2.2</span></a> depicts network assignment in a typical trip-based model where the total number of trips between each zone is given. With these results, the mode and purpose of each trip is known, but, with aggregate data, there is no way of telling who made which trips other than the segmentation in the previous steps (see <a href="#fig-pipeline-example-1">Figure&nbsp;<span>2.1 (a)</span></a>). It is also not possible to construct a coherent daily list of trips for individuals.</p>
<p><a href="#fig-network-synth">Figure&nbsp;<span>2.3</span></a>, on the other hand, depicts visual representations of an <em>individual’s</em> travel made possible by the use of a synthetic population. <a href="#fig-network-synth-1">Figure&nbsp;<span>2.3 (a)</span></a> depicts the trip list that could be given for an individual in a trip-based microsimulation model. Though each individual’s trips are known, there is no guarantee of consistency between trips. For example, it could predict that the individual takes transit to work but then drives home or that the individual makes two recreational trips without ever making a return trip. The activity-based approach, depicted in <a href="#fig-network-synth-2">Figure&nbsp;<span>2.3 (b)</span></a>, attempts to add this consistency by modeling tours, and only generating trips consistent with each tour.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-network-aggregate" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="output/example_flowchart_comparison/tbm.png" class="img-fluid figure-img" width="628"></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.2: Example network assignment using aggregate data. There is little information on who is making which trips, and it is not known how trips are related to each other.</figcaption><p></p>
</figure>
</div>
</div>
</div>
<div id="fig-network-synth" class="cell quarto-layout-panel">
<figure class="figure">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 52.7%;justify-content: center;">
<div id="fig-network-synth-1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="output/example_flowchart_comparison/trip.png" class="img-fluid figure-img" data-ref-parent="fig-network-synth" width="334"></p>
<p></p><figcaption class="figure-caption">(a) Trip-based microsimulation</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell-output-display quarto-layout-cell quarto-layout-cell-subref" style="flex-basis: 47.3%;justify-content: center;">
<div id="fig-network-synth-2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="output/example_flowchart_comparison/tour.png" class="img-fluid figure-img" data-ref-parent="fig-network-synth" width="300"></p>
<p></p><figcaption class="figure-caption">(b) Activity (tour)-based</figcaption><p></p>
</figure>
</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.3: Example network assignment using a synthetic population allows an individual’s travel to be tracked. In the tour-based approach, an attempt is made to make the trips consistent with each other.</figcaption><p></p>
</figure>
</div>
<p>In addition to intra-person dependencies, <span class="citation" data-cites="rasouli_activity-based_2014">Rasouli and Timmermans (<a href="references.html#ref-rasouli_activity-based_2014" role="doc-biblioref">2014</a>)</span> note that ABMs can model dependencies between members of a household as well. A vehicle can’t be used by multiple people in the same household at the same time to travel to different destinations. Because the people within the household will have travel patterns that depend on the patterns of others in the household, a policy affecting one person in the household can affect everyone in the household no matter how directly the policy connects to them <span class="citation" data-cites="vovsha_activity-based_2005">(<a href="references.html#ref-vovsha_activity-based_2005" role="doc-biblioref">Vovsha, Bradley, and Bowman 2005</a>)</span>. These effects aren’t possible to forecast in a trip-based model.</p>
<p>Another advantage of organizing travel into tours comes regarding accessibility analyses. <span class="citation" data-cites="dong_moving_2006">Dong et al. (<a href="references.html#ref-dong_moving_2006" role="doc-biblioref">2006</a>)</span> note that when trip-based models are used to analyze accessibility, each zone must be analyzed independently of travel behavior. This approach only analyzes zones’ proximity to each other and does not take into account individual travel patterns. They argue that this is a limited view of accessibility, and discuss the “activity-based accessibility measure” (ABA), which is evaluated based on all trips in a day rather than particular trips. As an example, if an individual doesn’t live within a 20-minute drive of a grocery store, traditional measures might rate this as poor accessibility. However, if they travel to a park with a nearby grocery store as part of their DAP, then in reality the accessibility should be rated much higher. This proximity may even influence <em>which</em> park is chosen. Overall, they found that the ABA predicts more reasonable accessibility outcomes compared to traditional measures.</p>
</section>
</section>
<section id="lack-of-abm-adoption" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="lack-of-abm-adoption"><span class="header-section-number">2.3</span> Lack of ABM Adoption</h2>
<p>Though ABMs have many clear advantages over trip-based models, adoption among agencies has been relatively slow. Many ABMs are implemented in proprietary software, which creates difficulty in maintaining and iterating on the model, <span class="citation" data-cites="miller_current_2023">Miller (<a href="references.html#ref-miller_current_2023" role="doc-biblioref">2023</a>)</span> argues. Even in an open-source model like ActivitySim <span class="citation" data-cites="association_of_metropolitan_planning_organizations_activitysim_2023">(<a href="references.html#ref-association_of_metropolitan_planning_organizations_activitysim_2023" role="doc-biblioref">Association of Metropolitan Planning Organizations 2023</a>)</span>, Miller notes several disadvantages of ABMs:</p>
<ul>
<li><p>Computational inefficiency and complicated program design: ABMs take more time, more computing power, and more money to run. This is because the synthetic population needed to run an ABM uses much more data. In areas with thousands of TAZs and millions of people, a super computer is needed, and it will cost much more than what is spent to run trip-based models. If a city can see similar results using a trip-based model, they may decide not to invest in an ABM.</p></li>
<li><p>Absence of a standard model system: The modeling systems are often designed with different approaches and for specific areas making it hard to transfer from one urban area to another. This also makes it difficult for agencies to determine which approach is the best and decide which to implement. In relation to this, Miller also states that the pressures of publishing unique and ground-breaking research in academia can deter researchers from converging towards best theories and methods.</p></li>
<li><p>Lack of resources: Most of these models were developed in academic settings which often lack resources, and possibly desire, to put them into practice. This leaves it up to governments and consultants to put the models into practice, but they can be hesitant to promote software development and to invest in new systems.</p></li>
</ul>
<p>For these reasons, as well as the inertia of current practices, the majority of agencies and organizations in the US remain using trip-based models for demand forecasting and policy analysis.</p>
</section>
<section id="research-gap" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="research-gap"><span class="header-section-number">2.4</span> Research Gap</h2>
<p>Although there has been much research on ABMs and their theoretical advantages, practical comparisons of the model frameworks have been limited. It is often taken as given that ABMs are unilaterally superior to traditional trip-based models due to their better theoretical foundation, but it is not clear if that better foundation always yields better results in terms of analytical flexibility or policy outcomes. <span class="citation" data-cites="ferdous_comparison_2012">Ferdous et al. (<a href="references.html#ref-ferdous_comparison_2012" role="doc-biblioref">2012</a>)</span> compared the trip- and activity-based model frameworks of the Mid-Ohio Regional Planning Commission and found that the ABM performed slightly better at the region level, but about the same at the project level. This is not an overwhelming victory for ABMs, and so based on this an agency may reasonably decide that the increase in data, computational, training, and potentially financial requirements outweigh the potential gains of switching to an ABM.</p>
<p><span class="citation" data-cites="ferdous_comparison_2012">Ferdous et al. (<a href="references.html#ref-ferdous_comparison_2012" role="doc-biblioref">2012</a>)</span>, however, mainly compared the <em>accuracy</em> of the two frameworks, but did not address the methodological differences between them. What types of data collection/synthesis are needed for each model type? Are there analyses that can only be done through (or that are made easier by) one of the model types? What would an agency need in order to transition from a trip-based model to an ABM? Are certain types of scenarios suited to one model type? Though some of these questions have been discussed <span class="citation" data-cites="lemp_aggregate_2007">(see e.g. <a href="references.html#ref-lemp_aggregate_2007" role="doc-biblioref">Lemp, McWethy, and Kockelman 2007</a>)</span>, a holistic methodological comparison is lacking. Additionally, the answers in the current literature are mainly theoretical, with little use to an agency considering the transition.</p>
<p>This research aims to answer these questions by providing a side-by-side comparison of a potential trip-based and activity-based modeling methodology. Several “proposed development” scenarios are run in each model, and the strengths and weaknesses of each approach are compared. It is important to note that this paper is not focused on model accuracy, as in any model type this can be adjusted dramatically through calibration efforts. Rather, the focus is on the methodological differences between the approaches, and the types of analyses that can be done with each model type.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-association_of_metropolitan_planning_organizations_activitysim_2023" class="csl-entry" role="doc-biblioentry">
Association of Metropolitan Planning Organizations. 2023. <span>“<span>ActivitySim</span>.”</span> <em>ActivitySim</em>. <a href="https://activitysim.github.io/">https://activitysim.github.io/</a>.
</div>
<div id="ref-bills_looking_2017" class="csl-entry" role="doc-biblioentry">
Bills, Tierra S., and Joan L. Walker. 2017. <span>“Looking Beyond the Mean for Equity Analysis: <span>Examining</span> Distributional Impacts of Transportation Improvements.”</span> <em>Transport Policy</em> 54 (February): 61–69. <a href="https://doi.org/10.1016/j.tranpol.2016.08.003">https://doi.org/10.1016/j.tranpol.2016.08.003</a>.
</div>
<div id="ref-bowman_day_1998" class="csl-entry" role="doc-biblioentry">
Bowman, John L. 1998. <span>“The <span>Day</span> <span>Activity</span> <span>Schedule</span> <span>Approach</span> to <span>Travel</span> <span>Demand</span> <span>Analysis</span>.”</span> Ph.D. Dissertation, Cambridge, MA: Massachusetts Institute of Technology. <a href="https://dspace.mit.edu/bitstream/handle/1721.1/16731/44704881-MIT.pdf?sequence=2">https://dspace.mit.edu/bitstream/handle/1721.1/16731/44704881-MIT.pdf?sequence=2</a>.
</div>
<div id="ref-castiglione_application_2006" class="csl-entry" role="doc-biblioentry">
Castiglione, Joe, Rachel Hiatt, Tilly Chang, and Billy Charlton. 2006. <span>“Application of <span>Travel</span> <span>Demand</span> <span>Microsimulation</span> <span>Model</span> for <span>Equity</span> <span>Analysis</span>.”</span> <em>Transportation Research Record: Journal of the Transportation Research Board</em> 1977 (1): 35–42. <a href="https://doi.org/10.1177/0361198106197700105">https://doi.org/10.1177/0361198106197700105</a>.
</div>
<div id="ref-chicago_area_transportation_study_final_1959" class="csl-entry" role="doc-biblioentry">
Chicago Area Transportation Study. 1959. <em>Final <span>Report</span> <span>In</span> <span>Three</span> <span>Parts</span></em>. Vol. 1–3. Printed by authority of the State of Illinois. <a href="http://archive.org/details/chicagoareatrans01chic">http://archive.org/details/chicagoareatrans01chic</a>.
</div>
<div id="ref-dong_moving_2006" class="csl-entry" role="doc-biblioentry">
Dong, Xiaojing, Moshe E. Ben-Akiva, John L. Bowman, and Joan L. Walker. 2006. <span>“Moving from Trip-Based to Activity-Based Measures of Accessibility.”</span> <em>Transportation Research Part A: Policy and Practice</em> 40 (2): 163–80. <a href="https://doi.org/10.1016/j.tra.2005.05.002">https://doi.org/10.1016/j.tra.2005.05.002</a>.
</div>
<div id="ref-ferdous_comparison_2012" class="csl-entry" role="doc-biblioentry">
Ferdous, Nazneen, Lakshmi Vana, John L. Bowman, Ram M. Pendyala, Gregory Giaimo, Chandra R. Bhat, David Schmitt, Mark Bradley, and Rebekah Anderson. 2012. <span>“Comparison of <span>Four</span>-<span>Step</span> Versus <span>Tour</span>-<span>Based</span> <span>Models</span> for <span>Prediction</span> of <span>Travel</span> <span>Behavior</span> Before and After <span>Transportation</span> <span>System</span> <span>Changes</span>.”</span> <em>Transportation Research Record</em> 2303 (1): 46–60. <a href="https://doi.org/10.3141/2303-06">https://doi.org/10.3141/2303-06</a>.
</div>
<div id="ref-jones_new_1979" class="csl-entry" role="doc-biblioentry">
Jones, Peter M. 1979. <span>“New <span>Approaches</span> to <span>Understanding</span> <span>Travel</span> <span>Behaviour</span>: <span>The</span> <span>Human</span> <span>Activity</span> <span>Approach</span>.”</span> In <em>Behavioural <span>Travel</span> <span>Modelling</span></em>. Routledge.
</div>
<div id="ref-lemp_aggregate_2007" class="csl-entry" role="doc-biblioentry">
Lemp, Jason D., Laura B. McWethy, and Kara M. Kockelman. 2007. <span>“From <span>Aggregate</span> <span>Methods</span> to <span>Microsimulation</span>: <span>Assessing</span> <span>Benefits</span> of <span>Microscopic</span> <span>Activity</span>-<span>Based</span> <span>Models</span> of <span>Travel</span> <span>Demand</span>.”</span> <em>Transportation Research Record: Journal of the Transportation Research Board</em> 1994 (1): 80–88. <a href="https://doi.org/10.3141/1994-11">https://doi.org/10.3141/1994-11</a>.
</div>
<div id="ref-mcnally_four-step_2007" class="csl-entry" role="doc-biblioentry">
McNally, Michael G. 2007. <span>“The <span>Four</span>-<span>Step</span> <span>Model</span>.”</span> In <em>Handbook of <span>Transport</span> <span>Modelling</span></em>, edited by David A. Hensher and Kenneth J. Button, 1:35–53. Emerald Group Publishing Limited. <a href="https://doi.org/10.1108/9780857245670-003">https://doi.org/10.1108/9780857245670-003</a>.
</div>
<div id="ref-miller_current_2023" class="csl-entry" role="doc-biblioentry">
Miller, Eric. 2023. <span>“The Current State of Activity-Based Travel Demand Modelling and Some Possible Next Steps.”</span> <em>Transport Reviews</em> 0 (0): 1–6. <a href="https://doi.org/10.1080/01441647.2023.2198458">https://doi.org/10.1080/01441647.2023.2198458</a>.
</div>
<div id="ref-moeckel_agent-based_2020" class="csl-entry" role="doc-biblioentry">
Moeckel, Rolf, Nico Kuehnel, Carlos Llorca, Ana Tsui Moreno, and Hema Rayaprolu. 2020. <span>“Agent-<span>Based</span> <span>Simulation</span> to <span>Improve</span> <span>Policy</span> <span>Sensitivity</span> of <span>Trip</span>-<span>Based</span> <span>Models</span>.”</span> <em>Journal of Advanced Transportation</em> 2020 (February): e1902162. <a href="https://doi.org/10.1155/2020/1902162">https://doi.org/10.1155/2020/1902162</a>.
</div>
<div id="ref-national_academies_travel_2012" class="csl-entry" role="doc-biblioentry">
National Academies. 2012. <em>Travel <span>Demand</span> <span>Forecasting</span>: <span>Parameters</span> and <span>Techniques</span></em>. Washington, D.C.: National Academies Press. <a href="https://doi.org/10.17226/14665">https://doi.org/10.17226/14665</a>.
</div>
<div id="ref-ortuzar_modelling_2011" class="csl-entry" role="doc-biblioentry">
Ortúzar, Juan De Dios, and Luis G. Willumsen. 2011. <em>Modelling <span>Transport</span></em>. 1st ed. Wiley. <a href="https://doi.org/10.1002/9781119993308">https://doi.org/10.1002/9781119993308</a>.
</div>
<div id="ref-park_intrazonal_2020" class="csl-entry" role="doc-biblioentry">
Park, Keunhyun, Sadegh Sabouri, Torrey Lyons, Guang Tian, and Reid Ewing. 2020. <span>“Intrazonal or Interzonal? <span>Improving</span> Intrazonal Travel Forecast in a Four-Step Travel Demand Model.”</span> <em>Transportation</em> 47 (5): 2087–2108. <a href="https://doi.org/10.1007/s11116-019-10002-0">https://doi.org/10.1007/s11116-019-10002-0</a>.
</div>
<div id="ref-pinjari_activity-based_2011" class="csl-entry" role="doc-biblioentry">
Pinjari, Abdul Rawoof, and Chandra R. Bhat. 2011. <span>“Activity-<span>Based</span> <span>Travel</span> <span>Demand</span> <span>Analysis</span>.”</span> In <em>A <span>Handbook</span> of <span>Transport</span> <span>Economics</span></em>, edited by André de Palma, Robin Lindsey, Emile Quinet, and Roger Vickerman. Edward Elgar Publishing.
</div>
<div id="ref-rasouli_activity-based_2014" class="csl-entry" role="doc-biblioentry">
Rasouli, Soora, and Harry Timmermans. 2014. <span>“Activity-Based Models of Travel Demand: Promises, Progress and Prospects.”</span> <em>International Journal of Urban Sciences</em> 18 (1): 31–60. <a href="https://doi.org/10.1080/12265934.2013.835118">https://doi.org/10.1080/12265934.2013.835118</a>.
</div>
<div id="ref-vovsha_activity-based_2005" class="csl-entry" role="doc-biblioentry">
Vovsha, Peter, Mark Bradley, and John L. Bowman. 2005. <span>“Activity-<span>Based</span> <span>Travel</span> <span>Forecasting</span> <span>Models</span> in the <span>United</span> <span>States</span>: <span>Progress</span> Since 1995 and <span>Prospects</span> for the <span>Future</span>.”</span> In <em>Progress <span>In</span> <span>Activity</span>-<span>Based</span> <span>Analysis</span></em>, edited by Harry Timmermans, 389–415. <a href="https://trid.trb.org/view/759300">https://trid.trb.org/view/759300</a>.
</div>
<div id="ref-walker_making_2005" class="csl-entry" role="doc-biblioentry">
Walker, Joan L. 2005. <span>“Making <span>Household</span> <span>Microsimulation</span> of <span>Travel</span> and <span>Activities</span> <span>Accessible</span> to <span>Planners</span>.”</span> <em>Transportation Research Record: Journal of the Transportation Research Board</em> 1931 (1): 38–48. <a href="https://doi.org/10.1177/0361198105193100105">https://doi.org/10.1177/0361198105193100105</a>.
</div>
<div id="ref-weiner_urban_1997" class="csl-entry" role="doc-biblioentry">
Weiner, Edward. 1997. <span>“Urban <span>Transportation</span> <span>Planning</span> in the <span>United</span> <span>States</span>. <span>An</span> <span>Historical</span> <span>Overview</span>.”</span> DOT-T-97-24. <a href="https://doi.org/10.21949/1526591">https://doi.org/10.21949/1526591</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./methods.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>