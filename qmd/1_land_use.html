<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A Comparative Illustration of Trip- and Activity-Based Modeling Techniques - 4&nbsp; Scenario 1: Change in Land Use</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../qmd/2_transit.html" rel="next">
<link href="../qmd/methods.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../qmd/1_land_use.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Change in Land Use</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">A Comparative Illustration of Trip- and Activity-Based Modeling Techniques</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">List of Acronyms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/lit-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/1_land_use.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Change in Land Use</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/2_transit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Scenario 2: Increased Transit Service</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/3_wfh.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Scenario 3: Increase in Remote Work</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/conclusions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conclusions and Recommendations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qmd/references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul class="collapse">
  <li><a href="#scenario-creation" id="toc-scenario-creation" class="nav-link active" data-scroll-target="#scenario-creation"><span class="header-section-number">4.1</span> Scenario Creation</a></li>
  <li><a href="#scenario-analysis" id="toc-scenario-analysis" class="nav-link" data-scroll-target="#scenario-analysis"><span class="header-section-number">4.2</span> Scenario Analysis</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-landuse" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Change in Land Use</span></span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<!-- Include at the start of every doc -->
<p>Near Draper, Utah there is a defunct prison site that is slated for redevelopment (see <a href="#fig-draper-prison-location" class="quarto-xref">Figure&nbsp;<span>4.1</span></a>). The 600-acre site will be developed into a multi-use residential and commercial area, with an emphasis on walkability and transit. This development is known as The Point, and is the basis for the first model scenario in this paper.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-draper-prison-location" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-draper-prison-location-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-draper-prison-location-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-draper-prison-location-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: draper prison location
</figcaption>
</figure>
</div>
</div>
</div>
<p>This scenario models the change in land use that a development such as The Point would create. Though the actual development plans for The Point include an expansion of transit services, only the additional households and jobs created from this development are modeled in this scenario. The data for the land use changes comes from the WFRC land use forecast, which is in turn based on projections from the Point of the Mountain State Land Authority <span class="citation" data-cites="state_land_authority_framework_2021">(<a href="references.html#ref-state_land_authority_framework_2021" role="doc-biblioref"><strong>state_land_authority_framework_2021?</strong></a>)</span>. The development is expected to be fully completed by 2050, and so the 2050 WFRC land use and socioeconomic data projections are used for this site.</p>
<p>The site consists of 5 TAZs, as shown in <a href="#fig-the-point-zones" class="quarto-xref">Figure&nbsp;<span>4.2</span></a>. <a href="#tbl-the-point-data" class="quarto-xref">Table&nbsp;<span>4.1</span></a> shows the households, population, and employment by type of these TAZs in both the baseline scenario and with the new land use. Notably, there were no households and relatively few jobs in these TAZs in the baseline scenario. No changes other than to the land use/socioeconomic data in these 5 TAZs was made relative to the baseline scenario.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-the-point-zones" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-the-point-zones-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-the-point-zones-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-the-point-zones-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: the point zones
</figcaption>
</figure>
</div>
</div>
</div>
<div id="tbl-the-point-data" class="quarto-layout-panel anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-the-point-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;4.1: the point data
</figcaption>
<div aria-describedby="tbl-the-point-data-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="tbl-the-point-data" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-layout-cell-subref" data-ref-parent="tbl-the-point-data">
<div id="tbl-the-point-data-1" class="do-not-create-environment quarto-float anchored" data-quarto-postprocess="true">
<figure class="quarto-float quarto-subfloat-tbl figure">
<figcaption class="quarto-float-caption-top quarto-subfloat-caption quarto-subfloat-tbl" id="tbl-the-point-data-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Baseline Scenario
</figcaption>
<div aria-describedby="tbl-the-point-data-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table id="tbl-the-point-data-1" class="do-not-create-environment table" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">TAZ</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TOTHH</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">HHPOP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RETEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">INDEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">OTHEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TOTEMP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2138</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">2140</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2141</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">277</td>
<td style="text-align: right;">277</td>
</tr>
<tr class="even">
<td style="text-align: right;">2149</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">796</td>
<td style="text-align: right;">796</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2170</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">359</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">433</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>


</div>
</div>
<div class="cell-output-display quarto-layout-cell-subref quarto-layout-cell" data-ref-parent="tbl-the-point-data" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-layout-cell-subref" data-ref-parent="tbl-the-point-data">
<div id="tbl-the-point-data-2" class="do-not-create-environment quarto-float anchored" data-quarto-postprocess="true">
<figure class="quarto-float quarto-subfloat-tbl figure">
<figcaption class="quarto-float-caption-top quarto-subfloat-caption quarto-subfloat-tbl" id="tbl-the-point-data-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) New Land Use
</figcaption>
<div aria-describedby="tbl-the-point-data-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table id="tbl-the-point-data-2" class="do-not-create-environment table" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: right;" data-quarto-table-cell-role="th">TAZ</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TOTHH</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">HHPOP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">RETEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">INDEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">OTHEMP</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">TOTEMP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">2138</td>
<td style="text-align: right;">7431</td>
<td style="text-align: right;">17811</td>
<td style="text-align: right;">4.33</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">76.2</td>
<td style="text-align: right;">80.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">2140</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">610.33</td>
<td style="text-align: right;">4.0</td>
<td style="text-align: right;">7389.8</td>
<td style="text-align: right;">8004.2</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2141</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1449.33</td>
<td style="text-align: right;">0.0</td>
<td style="text-align: right;">5363.2</td>
<td style="text-align: right;">6812.5</td>
</tr>
<tr class="even">
<td style="text-align: right;">2149</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">962.00</td>
<td style="text-align: right;">1.5</td>
<td style="text-align: right;">7372.5</td>
<td style="text-align: right;">8336.0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2170</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">7.00</td>
<td style="text-align: right;">357.3</td>
<td style="text-align: right;">106.3</td>
<td style="text-align: right;">470.7</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>


</div>
</div>
</div>
</div>
</figure>
</div>
<section id="scenario-creation" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="scenario-creation"><span class="header-section-number">4.1</span> Scenario Creation</h2>
<p>In the WFRC model, this change is trivial to implement. The model uses the land use/socioeconomic data directly, so the only adjustment needed is replacing the data for the specific TAZs with the 2050 data. As noted previously, all other TAZs have the same land use data as in the 2019 baseline scenario.</p>
<p>ActivitySim requires two changes for this scenario. The first is an update to the TAZ-level land use and socioeconomic data, which is identical to the process for the WFRC model. The second is an updated synthetic population. In order to keep consistency between model scenarios, a new population was created only for the 5 affected TAZs and joined to the existing synthetic population. There were no individuals or households in the affected zones in the existing synthetic population, so no individuals or households needed to be removed before joining the two populations.</p>
<p>Creating the new synthetic population followed a similar process as in the baseline scenario (<a href="methods.html#sec-populationsim" class="quarto-xref"><span>Section 3.2.1</span></a>), but used the new land use data as new TAZ-level controls. However, many of the controls for PopulationSim use tract-level data from the Census, and existing Census data for these controls is unrepresentative of the new development. Because of this, the Census tract covering the Gateway area in Salt Lake City (see <span class="quarto-unresolved-ref">?fig-gateway-tract</span>) is used to represent the new development patterns at The Point. The income distribution, etc. of this area will therefore match that of the Gateway area, though the TAZ-level controls and land use/socioeconomic data will match the WFRC projections for 2050.</p>
<p>? Note in realistic scenario you could use just the land use forecast as controls directly, rahter than the whole census shenanigans but we didn’t do that since we wanted the models to be independent.</p>
</section>
<section id="scenario-analysis" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="scenario-analysis"><span class="header-section-number">4.2</span> Scenario Analysis</h2>
<p>In a trip-based model, it is relatively easy to calculate person-miles traveled from trips produced in the new development zones (see <a href="#fig-lu-personmiles-cube" class="quarto-xref">Figure&nbsp;<span>4.3</span></a>), and where they are being attracted (see <a href="#fig-lu-desire-cube-1" class="quarto-xref">Figure&nbsp;<span>4.5 (a)</span></a>). However, those living in the new development make many more trips than only those produced in their home zone. In a trip-based model, this is modeled with “non–home-based” trips. However, it is difficult to know how best to distribute non–home-based trips, since by definition these trips do not have an origin or destination in the zone that generated them. <strong><em>cite something about how it’s a problem</em></strong></p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-lu-personmiles-cube" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lu-personmiles-cube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-lu-personmiles-cube-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lu-personmiles-cube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: personmiles cube
</figcaption>
</figure>
</div>
</div>
</div>
<p>By contrast, since an ABM models individuals explicitly, it is easy to follow the daily trips of any individual. <span class="quarto-unresolved-ref">?fig-lu-personmiles-abm</span> shows a similar plot of person-miles traveled, but of all trips made by individuals living in the new development zones. We can additionally make a distinction between trips produced in the individuals’ home zones and those produced elsewhere. Note that in a trip-based model, a round-trip from home to work and back is regarded as two trips produced in the home zone. ActivitySim does not deal with productions and attractions in the same way, so for comparison between models we are counting a trip with an origin or destination in the home zone as produced by that zone (e.g.&nbsp;in Figures <a href="#fig-lu-personmiles-asim" class="quarto-xref"><span>4.4</span></a> and <span class="citation" data-cites="asim_lu_new_desire_map">(<a href="references.html#ref-asim_lu_new_desire_map" role="doc-biblioref"><strong>asim_lu_new_desire_map?</strong></a>)</span>).</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-lu-personmiles-asim" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lu-personmiles-asim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-lu-personmiles-asim-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lu-personmiles-asim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.4: personmiles asim
</figcaption>
</figure>
</div>
</div>
</div>
<p><a href="#fig-lu-desire-cube" class="quarto-xref">Figure&nbsp;<span>4.5</span></a> shows desire line plots of trips generated by the new development zones. For home-based trips, it is easy to see where trips are produced and attracted to, and this is shown in <a href="#fig-lu-desire-cube-1" class="quarto-xref">Figure&nbsp;<span>4.5 (a)</span></a>. However, the non–home-based trips are more difficult to analyze. Because non–home-based trips are relocated to zones other than where they were generated, it is impossible to filter to only those non–home-based trips generated by the new zones.</p>
<p>The best approach is to take the difference in non–home-based trips between the scenarios (<a href="#fig-lu-desire-cube-2" class="quarto-xref">Figure&nbsp;<span>4.5 (b)</span></a>), though this presents two problems. The first is that for real-world analyses, where land use changes are not isolated, it becomes impossible to tell which non–home-based trips are generated by which developments, as the trips are seen only in aggregate. The second problem is with the distribution of the non–home-based trips. Though the exact distribution process depends on the specific model used, <a href="#fig-lu-desire-cube-2" class="quarto-xref">Figure&nbsp;<span>4.5 (b)</span></a> shows inconsistencies with the approach in the WFRC model. Between the baseline scenario and the updated land use scenario, many pairs of zones saw an increase in the number of non–home-based trips between them, but other pairs saw a <em>decrease</em>. Additionally, all pairs of zones that saw an increase in non–home-based trips include a production or attraction to the new development zones. <strong><em>The WFRC model redistributes non–home-based trips as part of its network assignment step, which occurs</em></strong> <strong>after</strong> <strong><em>all trip matrices are created</em></strong>. <em>it’s either this or the only increase in nhb trips is from non-residents, which doesn’t make much sense</em>. The only measure of the increase of non–home-based trips after redistribution is therefore in the highway network, reported as roadway volumes. This compounds with the first problem and makes it even more difficult to tell where the non–home-based trips are coming from.</p>
<div class="cell">
<div id="fig-lu-desire-cube" class="cell quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lu-desire-cube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<div id="fig-lu-desire-cube-1" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-scap="Desire lines of trips made in the WFRC model by mode.">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-lu-desire-cube-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-lu-desire-cube-1.png" class="img-fluid figure-img" data-fig-scap="Desire lines of trips made in the WFRC model by mode." data-ref-parent="fig-lu-desire-cube" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-lu-desire-cube-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(a) Trips produced in the updated TAZs.
</figcaption>
</figure>
</div>
</div>
<div class="cell-output-display">
<div id="fig-lu-desire-cube-2" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-scap="Desire lines of trips made in the WFRC model by mode.">
<figure class="quarto-float quarto-subfloat-fig figure">
<div aria-describedby="fig-lu-desire-cube-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-lu-desire-cube-2.png" class="img-fluid figure-img" data-fig-scap="Desire lines of trips made in the WFRC model by mode." data-ref-parent="fig-lu-desire-cube" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-subfloat-caption quarto-subfloat-fig" id="fig-lu-desire-cube-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
(b) Difference in non–home-based trips.
</figcaption>
</figure>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lu-desire-cube-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.5: Desire lines of trips made in the WFRC model by mode. Note that the non–home-based trips are obtained by differencing the non–home-based trip matrix with the base year.
</figcaption>
</figure>
</div>
</div>
<p>As mentioned, an ABM allows for tracking of individuals explicitly, and so analyzing non–home-based trips is much more straightforward. <span class="quarto-unresolved-ref">?fig-lu-desire-abm</span> shows desire lines of all trips made by individuals living in the new development zones, colored by place of production. It is also easy to see how trips are related to each other, as each individual has a specific sequence of trips. The individual nature of an ABM avoids entirely the problems trip-based models have with non–home-based trips. In a complicated land use forecast, each development’s full contribution to network congestion can be analyzed individually.</p>
<!-- With the synthetic population, we were also able to see which types of people were taking trips from the new development. -->
<div class="cell">
<div class="cell-output-display">
<div id="fig-lu-desire-asim" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-lu-desire-asim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="1_land_use_files/figure-html/fig-lu-desire-asim-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-lu-desire-asim-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.6: Desire lines of trips made in ActivitySim by mode.
</figcaption>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../qmd/methods.html" class="pagination-link" aria-label="Methodology">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../qmd/2_transit.html" class="pagination-link" aria-label="Scenario 2: Increased Transit Service">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Scenario 2: Increased Transit Service</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>