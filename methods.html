<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>An Illustrated Comparison of Activity-Based and Trip-Based Models in Utah - 3&nbsp; Methodology</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./1_land_use.html" rel="next">
<link href="./lit-review.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./methods.html"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">An Illustrated Comparison of Activity-Based and Trip-Based Models in Utah</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">List of Acronyms</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lit-review.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./methods.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./1_land_use.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Land Use</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./2_transit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Scenario 2: Transit</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./3_wfh.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Scenario 3: Work From Home</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Discussion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#wfrc-model" id="toc-wfrc-model" class="nav-link active" data-scroll-target="#wfrc-model"><span class="header-section-number">3.1</span> WFRC Model</a></li>
  <li><a href="#activitysim" id="toc-activitysim" class="nav-link" data-scroll-target="#activitysim"><span class="header-section-number">3.2</span> ActivitySim</a></li>
  <li><a href="#initial-model-comparison" id="toc-initial-model-comparison" class="nav-link" data-scroll-target="#initial-model-comparison"><span class="header-section-number">3.3</span> Initial Model Comparison</a></li>
  <li><a href="#policy-scenarios" id="toc-policy-scenarios" class="nav-link" data-scroll-target="#policy-scenarios"><span class="header-section-number">3.4</span> policy scenarios</a></li>
  <li><a href="#computational-resources" id="toc-computational-resources" class="nav-link" data-scroll-target="#computational-resources"><span class="header-section-number">3.5</span> Computational resources?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-methods" class="quarto-section-identifier"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Methodology</span></span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Authors</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  

</header>

<p>This section lists our methodology.</p>
<!-- We will compare models... -->
<!-- We will forecast several scenarios. -->
<p>In order to compare trip-based and activity-based models, this research takes a specific model from both types to be representative. The two models that this research compares are the Wasatch Front Regional Council (WFRC) travel demand model (trip-based) and ActivitySim (activity-based).</p>
<section id="wfrc-model" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="wfrc-model"><span class="header-section-number">3.1</span> WFRC Model</h2>
<p>The WFRC model is implemented in the CUBE software by Bentley <span class="citation" data-cites="bentley_systems_cube">(<a href="references.html#ref-bentley_systems_cube" role="doc-biblioref">Bentley Systems n.d.</a>)</span>, and is currently used by WFRC for modeling travel in the Salt Lake City, Utah area. WFRC provided the model directly, including land use forecasts and the current long-range transportation plan. The model is taken mostly as-is, though some changes were made to better accommodate the different scenarios. These modifications are noted in more detail in their respective sections.</p>
<p>The WFRC model, like many trip-based models, requires the following inputs: - <strong>Land use data.</strong> This includes information about population, employment, and socioeconomic variables such as income, delineated by transportation analysis zone (TAZ). In our case this was provided by WFRC directly, as an output of their land use forecasting model(s). - <strong>Travel skims.</strong> This details travel time, cost, etc. between each origin-destination pair of TAZs. The WFRC model uses an iterative process of assigning volumes to the transportation network and recalculating the skims, which are used in the mode and destination choice model steps. - <strong>Transportation network.</strong> This includes highway, transit, etc. networks which connect the TAZs to each other. These networks contain information such as link speed and capacity. Though the WFRC model assigns travel volumes to the network, this research does not compare the model’s network assignment results. However, the network volumes are still used to calculate the travel skims. - <strong>Model constants and coefficients.</strong> Many model steps, including mode choice, require calibration constants and coefficients. These are taken directly from the WFRC model without modification.</p>
<p>The model is comprised of 5 main steps: household disaggregation, trip generation, trip distribution, mode choice, and network assignment. Each of these steps has several sub-steps, and there are additional pre- and post-processing steps, but these five steps are the core of the model. The household disaggregation model uses the land use and socioeconomic data (containing average household sizes, etc.) and estimates the number of households by type, meaning by number of residents and number of workers. An additional part of this step is a vehicle ownership model, which further disaggregates the households by number of owned vehicles. The remaining four steps proceed similarly to any other trip-based model, estimating trips from each household type by purpose, time of day, origin/destination, and mode choice, and assigning these trips to the network(s).</p>
<p>The final output(s) of the WFRC model include network volumes and performance measures. This includes loaded the network skims, which can then be used in subsequent iterations of the destination and mode choice models. Additionally, the model outputs intermediate results after each main model step. This includes disaggregated household data, trip generation estimates, and origin-destination matrices counting trips by purpose, mode, and time of day.</p>
</section>
<section id="activitysim" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="activitysim"><span class="header-section-number">3.2</span> ActivitySim</h2>
<!-- The open-source ActivitySim [@cite] is used as our representative \acr{ABM}. -->
<!-- ActivitySim was developed.... -->
<!-- Many agencies currently use a travel demand model based on ActivitySim in some form [@cite]. -->
<!-- another sentence. -->
<!-- Overview of asim model (inputs, outputs, etc.) (also basic flowchart, tours/trips/etc) -->
<!-- We are getting the input zonal SE data form the WFRC model and using that as targets for our synthetic population generation (via PopulationSim). -->
<!-- We used PopulationSim [@cite] to create the synthetic population to use in ActivitySim. -->
<!-- PopulationSim requires two main categories of inputs: a seed and controls. -->
<!-- The seed comes from XXXXX, and contains a sample of actual (anonymized) individuals and households in the Wasatch Front region. -->
<!-- PopulationSim assigns copies of these seeds to the area in a way that complies with the controls. -->
<!-- The controls contain targets for the synthetic population in categories such as number of households, **et al**. -->
<!-- For this we used a combination of the \acr{TAZ}-level socioeconomic data present in the \acr{WFRC} model and Census tract-level data. -->
</section>
<section id="initial-model-comparison" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="initial-model-comparison"><span class="header-section-number">3.3</span> Initial Model Comparison</h2>
<p>In order to reasonably compare the two models, the initial “baseline” scenarios in each should have relatively similar results. Certainly this applies to the predicted trips by purpose, mode, length, etc., but it is also critical to ensure the synthetic population generated by PopulationSim matches the socioeconomic data used in the WFRC/MAG model. Though many controls such as household size and income are specified from the Census at the tract level, the WFRC socioeconomic data contains this information as well. Ideally, then, variables such as number of households per TAZ and TAZ median income should be similar between the two sources.</p>
<p>The data from both the Census and the WFRC/MAG model become geography-specific control totals which PopulationSim tries to match, with different weights assigned to each control. Number of households, for example, was given at the TAZ level from the WFRC data and weighted very heavily, so there is no difference in number of households in each TAZ between the synthetic population and the WFRC data. Total population, on the other hand, is a control from the Census data, and is in fact specified at the region geography level, and so there is some discrepancy between the synthetic population and the WFRC data (see <a href="#fig-totpop-comp">Figure&nbsp;<span>3.1</span></a>). However, these discrepancies are generally relatively minor, especially in more populated areas.</p>
<div class="cell" data-hash="methods_cache/html/fig-totpop-comp_8bd39be82ba23cb764d9d00fcc87ea0a">
<div class="cell-output cell-output-stderr">
<pre><code>Loading required namespace: raster</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Zoom: 9</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-totpop-comp" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="methods_files/figure-html/fig-totpop-comp-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3.1: Comparison of population by TAZ between WFRC data and PopulationSim synthetic population.</figcaption>
</figure>
</div>
</div>
</div>
<p>Another important comparison to make is of household income, as this can significantly affect travel behavior. Instead of simply comparing average household income by TAZ, it is more useful to compare the number of households in each binned income group. Both the WFRC and ActivitySim models use income <em>groups</em> as a variable in their model steps rather than the actual income. The income groups for the WFRC model are given in <a href="#tbl-wfrc-income-groups">Table&nbsp;<span>3.1</span></a>.</p>
<div class="cell" data-hash="methods_cache/html/tbl-wfrc-income-groups_48b5729e3368010da4efdc0e192877ad">
<div class="cell-output-display">
<div id="tbl-wfrc-income-groups" class="anchored">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table&nbsp;3.1: income groups</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Income Group</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Income Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">≤ $45,000</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">$45,000–$75,000</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">$75,000–$125,000</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">≥ $125,000</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<p><a href="#fig-inc-groups-map">Figure&nbsp;<span>3.2</span></a> shows a comparison of the number of households in each income group between the WFRC household disaggregation model and the synthetic population generated by PopulationSim. There is a definite trend of the synthetic population to over-predict low-income households and over-predict high-income households compared to the WFRC disaggregation model. However, especially since this research is focused more on a methodological comparison between the two models rather than a comparison of results, the discrepancies are not too severe to be concerned about.</p>
<div class="cell" data-hash="methods_cache/html/fig-inc-groups-map_b0e896109f783ce89a8b83842a064ded">
<div class="cell-output cell-output-stderr">
<pre><code>Zoom: 9
Zoom: 9
Zoom: 9
Zoom: 9</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-inc-groups-map" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="methods_files/figure-html/fig-inc-groups-map-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3.2: income groups</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-hash="methods_cache/html/tbl-mode-split_cd1ab54789ab342c45e4ef481467a30e">
<div class="cell-output-display">
<div id="tbl-mode-split" class="anchored">
<table class="table table-sm table-striped small" data-quarto-postprocess="true">
<caption>Table&nbsp;3.2: mode split</caption>
<thead>
<tr class="header">
<th style="text-align: center;" data-quarto-table-cell-role="th">Purpose</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">Mode</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">ActivitySim predicted trips</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">WFRC/MAG predicted trips</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">% Error</th>
<th style="text-align: center;" data-quarto-table-cell-role="th">% Error (scaled to WFRC/MAG predicted trips)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">All</td>
<td style="text-align: center;">All</td>
<td style="text-align: center; width: 4cm;">7441918</td>
<td style="text-align: center; width: 4cm;">8737729</td>
<td style="text-align: center;">-14.8%</td>
<td style="text-align: center; width: 6cm;">0.0%</td>
</tr>
<tr class="even">
<td style="text-align: center;">All</td>
<td style="text-align: center;">Auto</td>
<td style="text-align: center; width: 4cm;">6515379</td>
<td style="text-align: center; width: 4cm;">7905927</td>
<td style="text-align: center;">-17.6%</td>
<td style="text-align: center; width: 6cm;">-3.2%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">All</td>
<td style="text-align: center;">Non-motorized</td>
<td style="text-align: center; width: 4cm;">768463</td>
<td style="text-align: center; width: 4cm;">732250</td>
<td style="text-align: center;">4.9%</td>
<td style="text-align: center; width: 6cm;">23.2%</td>
</tr>
<tr class="even">
<td style="text-align: center;">All</td>
<td style="text-align: center;">Transit</td>
<td style="text-align: center; width: 4cm;">158076</td>
<td style="text-align: center; width: 4cm;">99551</td>
<td style="text-align: center;">58.8%</td>
<td style="text-align: center; width: 6cm;">86.4%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Home-based Other</td>
<td style="text-align: center;">All</td>
<td style="text-align: center; width: 4cm;">3696056</td>
<td style="text-align: center; width: 4cm;">4641724</td>
<td style="text-align: center;">-20.4%</td>
<td style="text-align: center; width: 6cm;">-6.5%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Home-based Other</td>
<td style="text-align: center;">Auto</td>
<td style="text-align: center; width: 4cm;">3092740</td>
<td style="text-align: center; width: 4cm;">4094887</td>
<td style="text-align: center;">-24.5%</td>
<td style="text-align: center; width: 6cm;">-11.3%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Home-based Other</td>
<td style="text-align: center;">Non-motorized</td>
<td style="text-align: center; width: 4cm;">531497</td>
<td style="text-align: center; width: 4cm;">509491</td>
<td style="text-align: center;">4.3%</td>
<td style="text-align: center; width: 6cm;">22.5%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Home-based Other</td>
<td style="text-align: center;">Transit</td>
<td style="text-align: center; width: 4cm;">71819</td>
<td style="text-align: center; width: 4cm;">37346</td>
<td style="text-align: center;">92.3%</td>
<td style="text-align: center; width: 6cm;">125.8%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Home-based Work</td>
<td style="text-align: center;">All</td>
<td style="text-align: center; width: 4cm;">1759501</td>
<td style="text-align: center; width: 4cm;">1711578</td>
<td style="text-align: center;">2.8%</td>
<td style="text-align: center; width: 6cm;">20.7%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Home-based Work</td>
<td style="text-align: center;">Auto</td>
<td style="text-align: center; width: 4cm;">1617449</td>
<td style="text-align: center; width: 4cm;">1586413</td>
<td style="text-align: center;">2.0%</td>
<td style="text-align: center; width: 6cm;">19.7%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Home-based Work</td>
<td style="text-align: center;">Non-motorized</td>
<td style="text-align: center; width: 4cm;">85430</td>
<td style="text-align: center; width: 4cm;">76413</td>
<td style="text-align: center;">11.8%</td>
<td style="text-align: center; width: 6cm;">31.3%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Home-based Work</td>
<td style="text-align: center;">Transit</td>
<td style="text-align: center; width: 4cm;">56622</td>
<td style="text-align: center; width: 4cm;">48752</td>
<td style="text-align: center;">16.1%</td>
<td style="text-align: center; width: 6cm;">36.4%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Non–Home-based</td>
<td style="text-align: center;">All</td>
<td style="text-align: center; width: 4cm;">1986361</td>
<td style="text-align: center; width: 4cm;">2384427</td>
<td style="text-align: center;">-16.7%</td>
<td style="text-align: center; width: 6cm;">-2.2%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Non–Home-based</td>
<td style="text-align: center;">Auto</td>
<td style="text-align: center; width: 4cm;">1805190</td>
<td style="text-align: center; width: 4cm;">2224628</td>
<td style="text-align: center;">-18.9%</td>
<td style="text-align: center; width: 6cm;">-4.7%</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Non–Home-based</td>
<td style="text-align: center;">Non-motorized</td>
<td style="text-align: center; width: 4cm;">151536</td>
<td style="text-align: center; width: 4cm;">146346</td>
<td style="text-align: center;">3.5%</td>
<td style="text-align: center; width: 6cm;">21.6%</td>
</tr>
<tr class="even">
<td style="text-align: center;">Non–Home-based</td>
<td style="text-align: center;">Transit</td>
<td style="text-align: center; width: 4cm;">29635</td>
<td style="text-align: center; width: 4cm;">13453</td>
<td style="text-align: center;">120.3%</td>
<td style="text-align: center; width: 6cm;">158.6%</td>
</tr>
</tbody>
</table>
</div>


</div>
</div>
<div class="cell" data-hash="methods_cache/html/fig-tlfd-comp_7e9d58d0b66074591713b799850547c5">
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Removed 19136083 rows containing non-finite values (`stat_density()`).</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'

Warning in density.default(x, weights = w, bw = bw, adjust = adjust, kernel =
kernel, : Selecting bandwidth *not* using 'weights'</code></pre>
</div>
<div class="cell-output-display">
<div id="fig-tlfd-comp" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="methods_files/figure-html/fig-tlfd-comp-1.png" class="img-fluid figure-img" width="672"></p>
<figcaption class="figure-caption">Figure&nbsp;3.3: tlfd comparison</figcaption>
</figure>
</div>
</div>
</div>
<!-- Compare TLFD, hopefully similar. -->
<!-- They are similar! -->
<!-- NOTE: The WFRC model multiplies trips by 100 in mode choice because there are a lot of fractional trips that would be lost to rounding otherwise. -->
<!-- We don't need to do that here (R can handle more than 2 decimal places), so we divided the trips by 100 to get the actual amount. -->
</section>
<section id="policy-scenarios" class="level2" data-number="3.4">
<h2 data-number="3.4" class="anchored" data-anchor-id="policy-scenarios"><span class="header-section-number">3.4</span> policy scenarios</h2>
<p>We will model the following scenarios: - Land use - Transit - WFH</p>
</section>
<section id="computational-resources" class="level2" data-number="3.5">
<h2 data-number="3.5" class="anchored" data-anchor-id="computational-resources"><span class="header-section-number">3.5</span> Computational resources?</h2>
<p>Describe BEAST and the BYU Supercomputer.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-bentley_systems_cube" class="csl-entry" role="listitem">
Bentley Systems. n.d. <span>“<span>CUBE</span> <span>Modeling</span> <span>Software</span>.”</span> Accessed October 3, 2023. <a href="https://www.bentley.com/software/cube/">https://www.bentley.com/software/cube/</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lit-review.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Literature Review</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./1_land_use.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Scenario 1: Land Use</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>