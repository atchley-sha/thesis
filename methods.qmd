# Methodology {#sec-methods}

This section lists our methodology.

We will compare models...

We will forecast several scenarios.

## Models to Use

WFRC Model, where it is from, etc.

ActivitySim, where it is from, etc.

## Base scenario comparison

We are getting the input zonal SE data form the WFRC model and using that as targets for our synthetic population generation (via PopulationSim).

Enumerate and discuss model inputs/outputs (diagram?)

### Calibration check

```{r}
# Note the following for the WFRC OD matricies:
#auto = DA+SR2+SR3p
#dTRN = sum(d{trn})
#wTRN = sum(w{trn})
#transit = wTRN + dTRN
#motor = auto + transit + small error
#nonmotor = bike + walk + small error
```

We want to check if the ABM gives similar results to the WFRC model in the base scenario.
If not, then we can't really compare them.
They don't have to match exactly, but should be close.

#### synth pop

Show differences between the actual zonal SE data and the synthetic population data.
HH is the same since it was heavily weighted, but check some other things too, like avg income.

746 zones in the WFRC input data are listed as having no households.
Many of these make sense (Utah Lake, etc.).
Some in more urban areas may also make sense (commercial zoning, etc), but it's possible some are erroneous.
In any case, the synthetic population matches these targets, as we want the models to perform similarly to be able to make comparisons.

Many variables such as vehicle ownership were not given at the TAZ level in the input data (**were they given anywhere else?**).
This data is present in the synthetic population, but we can't compare it (**unless we find that data somewhere else**).

Overall we are pretty good; the vast majority of zones are within a doubling of the WFRC data in both persons and income.
There are some outliers, but they are fringe zones that are less populated anyway.

```{r}
#| echo: false
#| warning: false
#| message: false
#| error: false

targets::tar_load(pop_comp_maps)

pop_comp_maps[1]
pop_comp_maps[2]
pop_comp_maps[3]

# cowplot::plot_grid(plotlist = targets::tar_read(pop_comp_maps), nrow = 3)
```


#### TLFD

Compare TLFD, hopefully similar


## policy scenarios

We will model the following scenarios:
- Land use
- Transit
- WFH

## Computational resources?

Describe BEAST and the BYU Supercomputer.
